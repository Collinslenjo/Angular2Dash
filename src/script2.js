/**
 * Created by collins on 21/02/17.
 */
(function(){"use strict";var Invoiced={config:{decimalSeparator:".",thousandsSeparator:","}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=Invoiced),exports.Invoiced=Invoiced):this.Invoiced=Invoiced}).call(this),function(){"use strict";angular.module("app",["LocalStorageModule","ui.bootstrap","vButton","ngRoute","ngSanitize"]).constant("Invoiced",Invoiced).config(["$routeProvider",function($routeProvider){angular.module("LocalStorageModule",[]).constant("prefix","invoiced"),$routeProvider.when("/",{controller:"NewInvoiceController",redirectTo:"/new"}).when("/new",{controller:"NewInvoiceController",template:""}).when("/last",{controller:"LastInvoiceController",template:""}).when("/invoices",{controller:"MyInvoicesController",templateUrl:"/templates/invoices.html"}).when("/help",{templateUrl:"/templates/help.html"}).when("/:invoiceId",{controller:"InvoiceController",templateUrl:"/templates/invoice.html"}).when("/:invoiceId/thanks/download",{templateUrl:"/templates/thanks.html",controller:"ThanksController",resolve:{type:function(){return"download"}}}).when("/:invoiceId/thanks/sent",{templateUrl:"/templates/thanks.html",controller:"ThanksController",resolve:{type:function(){return"send"}}}).otherwise({redirectTo:"/last"})}]).run(["$rootScope","$location","$window",function($rootScope,$location,$window){$("#static").remove(),Cookies.get("gotit")&&$window.toggleLearnMore(!1),$rootScope.$on("$routeChangeSuccess",function(){$window.ga&&$window.ga("send","pageview",{page:$location.path()}),$window.scrollTo(0,0)})}])}(),function(){"use strict";var affixOffset=237,toggleLearnMore=this.toggleLearnMore=function(animate){animate="undefined"==typeof animate?!0:animate;var $learnMore=$(".learn-more");animate?$learnMore.addClass("animate"):$learnMore.removeClass("animate"),$learnMore.toggleClass("show"),$(".learn-more-btn.nav").toggleClass("active"),affixOffset=$learnMore.hasClass("show")?237:0};this.affixInvoiceControls=function(){$("#invoice-controls-affix").affix({offset:{top:function(){return 37+affixOffset}}})},$(function(){FastClick.attach(document.body),$(".learn-more-btn").click(function(){toggleLearnMore()}),$(".got-it").click(function(){Cookies.set("gotit",!0,{expires:1e3})})});var currencySymbol=this.currencySymbol=function(currency){var c="undefined"!=typeof currency?currency.toLowerCase():"usd";return"undefined"!=typeof Invoiced.config.currencies[c]?Invoiced.config.currencies[c].symbol:Invoiced.config.currencies.usd.symbol},formatMoney=this.formatMoney=function(num,decimal_separator,thousands_separator){return parseFloat(parseFormattedNumber(""+num,decimal_separator,thousands_separator)).formatMoney(2,decimal_separator,thousands_separator)};this.currencyFormat=function(num,currency,decimal_separator,thousands_separator){var prefix=-.01>=num?'<span class="negative-sign">&#8211;</span>':"";num=Math.abs(num);var amount=formatMoney(num,decimal_separator,thousands_separator),parts=amount.split(decimal_separator);return prefix+'<span class="currency-amount"><span class="currency-symbol">'+currencySymbol(currency)+"</span>"+parts[0]+("00"!=parts[1]?'<span class="currency-decimal">'+decimal_separator+'</span><span class="currency-fraction">'+parts[1]+"</span>":"")+"</span>"};var parseFormattedNumber=this.parseFormattedNumber=function(val,decimalSeparator,thousandsSeparator){var dRegex=new RegExp("\\"+decimalSeparator,"g"),tRegex=new RegExp("\\"+thousandsSeparator,"g");return val.replace(tRegex,"").replace(dRegex,".")};Number.prototype.formatMoney=function(c,d,t){var n=this,c=isNaN(c=Math.abs(c))?2:c,d="undefined"==typeof d?",":d,t="undefined"==typeof t?".":t,s=0>n?"-":"",i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0,res=s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"");return"-0.00"==res&&(res="0.00"),res},this.firstline=function(input){return"undefined"!=typeof input&&input?(input+"").split("\n",1)[0]:""},this.nl2br=function(input){return"undefined"!=typeof input?(input+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />$2"):""}}.call(this),function(){"use strict";function EmailController($scope,$http,$modalInstance,$window,Email,invoice){$scope.invoice=invoice,$scope.email=Email["new"](),$scope.email.from_name=$window.firstline($scope.invoice.from),$scope.email.to_name=$window.firstline($scope.invoice.to),""===$scope.email.message&&($scope.email.message="Hi,\n\nA new invoice has been created on your account. You may find a PDF of your invoice attached.\n\nThank you for your business!"),$scope.sending=!1,$scope.send=function(invoice,email){$scope.sending=!0;var params=angular.copy(invoice);params.email=email.to,params.from_email=email.from,params.message=email.message,params.paypal=email.paypal,params.venmo=email.venmo,params.square_cashtag=email.square_cash?email.square_cashtag:!1,$scope.error=!1,$http({method:"POST",url:"/email?source=lite",data:params}).success(function(response){response.success?$modalInstance.close(email):$scope.error=response.error?response.error:"Error: invalid response",$scope.sending=!1}).error(function(){$scope.error="There was a problem sending your email.",$scope.sending=!1})},$scope.saveDefaults=function(){$scope.email.makeDefault()},$scope.isDefault=function(){return $scope.email.isDefault()},$scope.cancel=function(){$modalInstance.dismiss("cancel")}}angular.module("app").controller("EmailController",EmailController),EmailController.$inject=["$scope","$http","$modalInstance","$window","Email","invoice"]}(),function(){"use strict";function InvoiceController($scope,$location,$timeout,$modal,$routeParams,$window,Invoice,Invoiced,Logo,LeavePageWarning){var self=this;if($scope.invoice=Invoice.find($routeParams.invoiceId),!$scope.invoice)return void $location.path("/new");Invoice.setLastInvoice($scope.invoice),self.original=angular.copy($scope.invoice),$scope.$watch("invoice",function(newVal){return newVal?($scope.invoice.fields.discounts&&($scope.discountIsRate="%"===$scope.invoice.fields.discounts),$scope.invoice.fields.tax&&($scope.taxIsRate="%"===$scope.invoice.fields.tax),void $scope.invoice.calculate()):!1},!0),$scope.discountIsRate="%"===$scope.invoice.fields.discounts,$scope.taxIsRate="%"===$scope.invoice.fields.tax,$scope.$watch("discountIsRate",function(value){$scope.invoice.fields.discounts&&($scope.invoice.fields.discounts=value?"%":!0)}),$scope.$watch("taxIsRate",function(value){$scope.invoice.fields.tax&&($scope.invoice.fields.tax=value?"%":!0)}),LeavePageWarning.block(),$scope.currencyName=$scope.invoice.currency.toUpperCase(),$scope.numInvoices=Invoice.totalInvoices(),$scope.downloadPDF=function(){$scope.invoice.draft=!1,save(),$("#pdf_json").val(angular.toJson($scope.invoice)),LeavePageWarning.unblock(),$location.path("/"+$scope.invoice.id+"/thanks/download"),$("#pdf_form").submit()},$scope.emailModal=function(){$scope.invoice.draft=!1,save();var modalInstance=$modal.open({templateUrl:"/templates/email.html",controller:"EmailController",resolve:{invoice:function(){return $scope.invoice}}});modalInstance.result.then(function(email){$location.path("/"+$scope.invoice.id+"/thanks/sent"),$location.search("from",email.from),$location.search("to",email.to)},function(){})};var save=function(){$scope.invoice.save(),self.original=angular.copy($scope.invoice)};$scope.saveDefaults=function(){$window.confirm("Do you want to make this invoice the default template, overwriting the current one?")&&$scope.invoice.makeDefault()},$scope.isClean=function(){return angular.equals(self.original,$scope.invoice)},$scope.isDefault=function(){return $scope.invoice&&$scope.invoice.isDefault()},$scope.selectCurrency=function(){var modalInstance=$modal.open({templateUrl:"/templates/currency-selector.html",controller:"SelectCurrencyController",resolve:{currency:function(){return $scope.invoice.currency}},windowClass:"add-currency-modal",size:"sm"});modalInstance.result.then(function(currency){$scope.invoice.currency=currency.code,$scope.currencyName=currency.code.toUpperCase()},function(){})},$scope.changeLogo=function(element){Logo.read(element,function(logo){$scope.$apply(function(){$scope.invoice.setLogo(logo)})},function(error){$window.alert(error)})},$scope.removeLogo=function(){$scope.invoice.removeLogo()},$scope.addLineItem=function(){$scope.invoice.addLineItem(),$timeout(function(){$(".items-table .item-row:last-child .name .form-control").focus()})},$scope.deleteLineItem=function(item){$scope.invoice.deleteLineItem(item)},$scope.addDiscount=function(){$scope.invoice.fields.discounts="%"},$scope.removeDiscount=function(){$scope.invoice.fields.discounts=!1},$scope.addTax=function(){$scope.invoice.fields.tax="%"},$scope.removeTax=function(){$scope.invoice.fields.tax=!1},$scope.addShipping=function(){$scope.invoice.fields.shipping=!0},$scope.removeShipping=function(){$scope.invoice.fields.shipping=!1},$scope.$on("leavePageWarning",function(){$scope.invoice&&$scope.invoice.save()}),$scope.$on("$routeChangeStart",function(){$scope.invoice&&$scope.invoice.save(),LeavePageWarning.unblock()}),$($window).width()>767&&$timeout(function(){$window.affixInvoiceControls()},50)}angular.module("app").controller("InvoiceController",InvoiceController),InvoiceController.$inject=["$scope","$location","$timeout","$modal","$routeParams","$window","Invoice","Invoiced","Logo","LeavePageWarning"]}(),function(){"use strict";function LastInvoiceController($location,Invoice){var invoice=Invoice.getLastInvoice();$location.path("/"+invoice.id)}angular.module("app").controller("LastInvoiceController",LastInvoiceController),LastInvoiceController.$inject=["$location","Invoice"]}(),function(){"use strict";function MyInvoicesController($scope,$window,Invoice){var exportProperties=["to","number","purchase_order","date","payment_terms","due_date","items","currency","fields","discounts","tax","shipping"];$scope["delete"]=function(invoice,$event){$window.confirm("Are you sure you want to delete this invoice?")&&invoice["delete"]()&&($scope.invoices=Invoice.findAll()),$event.preventDefault()},$scope.clearAll=function(){$window.confirm("Are you sure you want to permanently delete all of your invoices?")&&Invoice.deleteAll()&&($scope.invoices=[])},$scope["export"]=function(){var invoices=[];angular.forEach($scope.invoices,function(invoice){var _invoice={};angular.forEach(exportProperties,function(property){_invoice[property]=invoice[property]}),invoices.push(_invoice)}),$("#csv_json").val(angular.toJson({invoices:invoices})),$("#csv_form").submit()},$scope.invoices=Invoice.findAll()}angular.module("app").controller("MyInvoicesController",MyInvoicesController),MyInvoicesController.$inject=["$scope","$window","Invoice"]}(),function(){"use strict";function NewInvoiceController($location,Invoice){var invoice=Invoice["new"]();invoice.save(),$location.path("/"+invoice.id)}angular.module("app").controller("NewInvoiceController",NewInvoiceController),NewInvoiceController.$inject=["$location","Invoice"]}(),function(){"use strict";function SelectCurrencyController(Invoiced,$scope,$modalInstance,$timeout,$window,currency){$scope.selected=currency,$scope.currencies=[],angular.forEach(Invoiced.config.currencies,function(currency,code){currency.symbol&&$scope.currencies.push({symbol:currency.symbol,name:currency.name,code:code})}),$scope.select=function(currency){$modalInstance.close(currency)},$scope.cancel=function(){$modalInstance.dismiss("cancel")},$($window).width()>767&&$timeout(function(){$(".modal-selector .search input").focus()},50)}angular.module("app").controller("SelectCurrencyController",SelectCurrencyController),SelectCurrencyController.$inject=["Invoiced","$scope","$modalInstance","$timeout","$window","currency"]}(),function(){"use strict";function ThanksController($scope,$http,$routeParams,$location,$window,$timeout,type){$scope.type=type,$scope.invoiceId=$routeParams.invoiceId,$scope.emailTo=$routeParams.to,$scope.email=$routeParams.from,$scope.feedback="",$scope.sending=!1,$scope.sendFeedback=function(email,feedback){$scope.sending=!0,$scope.feedbackError=!1,$http({method:"POST",url:"/feedback",data:{email:email,feedback:feedback}}).success(function(response){response.success?$scope.feedbackSent=!0:$scope.feedbackError=response.error?response.error:"Error: invalid response",$scope.sending=!1}).error(function(){$scope.feedbackError="There was a problem sending your feedback.",$scope.sending=!1})},$timeout(function(){"undefined"!=typeof $window.FB&&$window.FB.XFBML.parse(),"undefined"!=typeof $window.twttr&&$window.twttr.widgets.load()})}angular.module("app").controller("ThanksController",ThanksController),ThanksController.$inject=["$scope","$http","$routeParams","$location","$window","$timeout","type"]}(),function(){"use strict";function datePicker($parse){return{restrict:"A",link:function(scope,element,attrs){var ngModel=$parse(attrs.ngModel);$(function(){element.datepicker({dateFormat:"M d, yy",onSelect:function(dateText){scope.$apply(function(scope){ngModel.assign(scope,dateText)})}})})}}}angular.module("app").directive("datePicker",datePicker),datePicker.$inejct=["$parse"]}(),function(){"use strict";function expandingTextarea(){return{restrict:"A",link:function(scope,element,attrs){$(element).expandingTextarea(),scope.$watch(attrs.ngModel,function(){$(element).expandingTextarea("resize")})}}}angular.module("app").directive("expandingTextarea",expandingTextarea)}(),function(){"use strict";function inputAmount(){return{restrict:"A",template:'<div class="input-amount dropdown" ng-class="{\'is-percent\':!!isRate,\'with-selector\':hasSelector}"><div class="addon currency-sign">{{currency|currencySymbol}}</div><input class="form-control" type="number" step="any" autocomplete="off" tabindex="{{tabindex}}" ng-required="ngRequired" ng-model="value" ng-change="change()" /><div class="addon percent">%</div><div class="addon selector"><button type="button" class="btn dropdown-toggle"><span class="ion-chevron-down"></span></button></div><ul class="dropdown-menu dropdown-menu-right"><li ng-class="{active:!isRate}"><a href="#" ng-click="isRate=false;$event.preventDefault()">Flat ({{currency|currencySymbol}})</a></li><li ng-class="{active:isRate}"><a href="#" ng-click="isRate=true;$event.preventDefault()">Percent (%)</a></li></ul></div>',scope:{currency:"=",isRate:"=",tabindex:"=ngTabindex",value:"=ngModel",change:"=ngChange",ngRequired:"=?",hasSelector:"=?"},link:function($element){$(".dropdown-toggle",$element).dropdown()}}}angular.module("app").directive("inputAmount",inputAmount)}(),function(){"use strict";function currencyFormat(Invoiced,$window){return function(amount,currency){return $window.currencyFormat(amount,currency,Invoiced.config.decimalSeparator,Invoiced.config.thousandsSeparator)}}angular.module("app").filter("currencyFormat",currencyFormat),currencyFormat.$inject=["Invoiced","$window"]}(),function(){"use strict";function currencySymbol($window){return $window.currencySymbol}angular.module("app").filter("currencySymbol",currencySymbol),currencySymbol.$inject=["$window"]}(),function(){"use strict";function firstline($window){return $window.firstline}angular.module("app").filter("firstline",firstline),firstline.$inject=["$window"]}(),function(){"use strict";function formatMoney(Invoiced,$window){return function(amount){return $window.formatMoney(amount,Invoiced.config.decimalSepartor,Invoiced.config.thousandsSeparator)}}angular.module("app").filter("formatMoney",formatMoney),formatMoney.$inject=["Invoiced","$window"]}(),function(){"use strict";function nl2br($window){return $window.nl2br}angular.module("app").filter("nl2br",nl2br),nl2br.$inject=["$window"]}(),function(){"use strict";Invoiced.config.currencies={aed:{name:"United Arab Emirates Dirham",symbol:"\u062f.\u0625"},afn:{name:"Afghanistan Afghani",symbol:"AFN"},all:{name:"Albania Lek",symbol:"Lek"},amd:{name:"Armenia Dram",symbol:"AMD"},ang:{name:"Netherlands Antilles Guilder",symbol:"\u0192"},aoa:{name:"Angola Kwanza",symbol:"Kz"},ars:{name:"Argentina Peso",symbol:"$"},aud:{name:"Australia Dollar",symbol:"$"},awg:{name:"Aruba Guilder",symbol:"\u0192"},azn:{name:"Azerbaijan New Manat",symbol:"\u043c\u0430\u043d"},bam:{name:"Bosnia and Herzegovina Convertible Marka",symbol:"KM"},bbd:{name:"Barbados Dollar",symbol:"$"},bdt:{name:"Bangladesh Taka",symbol:"Tk"},bgn:{name:"Bulgaria Lev",symbol:"\u043b\u0432"},bhd:{name:"Bahrain Dinar",symbol:"BHD"},bif:{name:"Burundi Franc",symbol:"BIF"},bmd:{name:"Bermuda Dollar",symbol:"$"},bnd:{name:"Brunei Darussalam Dollar",symbol:"$"},bob:{name:"Bolivia Boliviano",symbol:"$b"},brl:{name:"Brazil Real",symbol:"R$"},bsd:{name:"Bahamas Dollar",symbol:"$"},btc:{name:"Bitcoin",symbol:"BTC"},btn:{name:"Bhutan Ngultrum",symbol:"BTN"},bwp:{name:"Botswana Pula",symbol:"P"},byr:{name:"Belarus Ruble",symbol:"p."},bzd:{name:"Belize Dollar",symbol:"BZ$"},cad:{name:"Canada Dollar",symbol:"$"},cdf:{name:"Congo/Kinshasa Franc",symbol:"CDF"},chf:{name:"Switzerland Franc",symbol:"CHF"},clp:{name:"Chile Peso",symbol:"$"},cny:{name:"China Yuan Renminbi",symbol:"\xa5"},cop:{name:"Colombia Peso",symbol:"p."},crc:{name:"Costa Rica Colon",symbol:"\u20a1"},cuc:{name:"Cuba Convertible Peso",symbol:"CUC"},cup:{name:"Cuba Peso",symbol:"\u20b1"},cve:{name:"Cape Verde Escudo",symbol:"CVE"},czk:{name:"Czech ReKoruna",symbol:"K\u010d"},djf:{name:"Djibouti Franc",symbol:"CHF"},dkk:{name:"Denmark Krone",symbol:"kr"},dop:{name:"Dominican RePeso",symbol:"RD$"},dzd:{name:"Algeria Dinar",symbol:"DZD"},egp:{name:"Egypt Pound",symbol:"\xa3"},ern:{name:"Eritrea Nakfa",symbol:"ERN"},etb:{name:"Ethiopia Birr",symbol:"ETB"},eur:{name:"Euro Member Countries",symbol:"\u20ac"},fjd:{name:"Fiji Dollar",symbol:"$"},fkp:{name:"Falkland Islands (Malvinas) Pound",symbol:"\xa3"},gbp:{name:"United Kingdom Pound",symbol:"\xa3"},gel:{name:"Georgia Lari",symbol:"GEL"},ggp:{name:"Guernsey Pound",symbol:"\xa3"},ghs:{name:"Ghana Cedi",symbol:"GH\xa2"},gip:{name:"Gibraltar Pound",symbol:"\xa3"},gmd:{name:"Gambia Dalasi",symbol:"GMD"},gnf:{name:"Guinea Franc",symbol:"GNF"},gtq:{name:"Guatemala Quetzal",symbol:"Q"},gyd:{name:"Guyana Dollar",symbol:"$"},hkd:{name:"Hong Kong Dollar",symbol:"HK$"},hnl:{name:"Honduras Lempira",symbol:"L"},hrk:{name:"Croatia Kuna",symbol:"kn"},htg:{name:"Haiti Gourde",symbol:"HTG"},huf:{name:"Hungary Forint",symbol:"Ft"},idr:{name:"Indonesia Rupiah",symbol:"Rp"},ils:{name:"Israel Shekel",symbol:"\u20aa"},imp:{name:"Isle of Man Pound",symbol:"\xa3"},inr:{name:"India Rupee",symbol:"Rs"},iqd:{name:"Iraq Dinar",symbol:"IQD"},irr:{name:"Iran Rial",symbol:"IRR"},isk:{name:"Iceland Krona",symbol:"kr"},jep:{name:"Jersey Pound",symbol:"\xa3"},jmd:{name:"Jamaica Dollar",symbol:"J$"},jod:{name:"Jordan Dinar",symbol:"JOD"},jpy:{name:"Japan Yen",symbol:"\xa5"},kes:{name:"Kenya Shilling",symbol:"KSh"},kgs:{name:"Kyrgyzstan Som",symbol:"\u043b\u0432"},khr:{name:"Cambodia Riel",symbol:"\u17db"},kmf:{name:"Comoros Franc",symbol:"KMF"},kpw:{name:"Korea (North) Won",symbol:"\u20a9"},krw:{name:"Korea (South) Won",symbol:"\u20a9"},kwd:{name:"Kuwait Dinar",symbol:"\u0643"},kyd:{name:"Cayman Islands Dollar",symbol:"$"},kzt:{name:"Kazakhstan Tenge",symbol:"\u043b\u0432"},lak:{name:"Laos Kip",symbol:"\u20ad"},lbp:{name:"Lebanon Pound",symbol:"\xa3"},lkr:{name:"Sri Lanka Rupee",symbol:"Rs"},lrd:{name:"Liberia Dollar",symbol:"$"},lsl:{name:"Lesotho Loti",symbol:"LSL"},ltl:{name:"Lithuania Litas",symbol:"Lt"},lvl:{name:"Latvia Lat",symbol:"Ls"},lyd:{name:"Libya Dinar",symbol:"LD"},mad:{name:"Morocco Dirham",symbol:"MAD"},mdl:{name:"Moldova Leu",symbol:"MDL"},mga:{name:"Madagascar Ariary",symbol:"MGA"},mkd:{name:"Macedonia Denar",symbol:"\u0434\u0435\u043d"},mmk:{name:"Myanmar (Burma) Kyat",symbol:"MMK"},mnt:{name:"Mongolia Tughrik",symbol:"\u20ae"},mop:{name:"Macau Pataca",symbol:"MOP"},mro:{name:"Mauritania Ouguiya",symbol:"MRO"},mur:{name:"Mauritius Rupee",symbol:"Rs"},mvr:{name:"Maldives (Maldive Islands) Rufiyaa",symbol:"MVR"},mwk:{name:"Malawi Kwacha",symbol:"MWK"},mxn:{name:"Mexico Peso",symbol:"$"},myr:{name:"Malaysia Ringgit",symbol:"RM"},mzn:{name:"Mozambique Metical",symbol:"MT"},nad:{name:"Namibia Dollar",symbol:"N$"},ngn:{name:"Nigeria Naira",symbol:"\u20a6"},nio:{name:"Nicaragua Cordoba",symbol:"C$"},nok:{name:"Norway Krone",symbol:"kr"},npr:{name:"Nepal Rupee",symbol:"Rs"},nzd:{name:"New Zealand Dollar",symbol:"$"},omr:{name:"Oman Rial",symbol:"OMR"},pab:{name:"Panama Balboa",symbol:"B/."},pen:{name:"Peru Nuevo Sol",symbol:"S/."},pgk:{name:"Papua New Guinea Kina",symbol:"PGK"},php:{name:"Philippines Peso",symbol:"\u20b1"},pkr:{name:"Pakistan Rupee",symbol:"Rs"},pln:{name:"Poland Zloty",symbol:"z\u0142"},pyg:{name:"Paraguay Guarani",symbol:"Gs"},qar:{name:"Qatar Riyal",symbol:"QAR"},ron:{name:"Romania New Leu",symbol:"lei"},rsd:{name:"Serbia Dinar",symbol:"\u0414\u0438\u043d."},rub:{name:"Russia Ruble",symbol:"\u0440\u0443\u0431"},rwf:{name:"Rwanda Franc",symbol:"RWF"},sar:{name:"Saudi Arabia Riyal",symbol:"SAR"},sbd:{name:"Solomon Islands Dollar",symbol:"$"},scr:{name:"Seychelles Rupee",symbol:"Rs"},sdg:{name:"Sudan Pound",symbol:"SDG"},sek:{name:"Sweden Krona",symbol:"kr"},sgd:{name:"Singapore Dollar",symbol:"$"},shp:{name:"Saint Helena Pound",symbol:"\xa3"},sll:{name:"Sierra Leone Leone",symbol:"SLL"},sos:{name:"Somalia Shilling",symbol:"S"},spl:{name:"Seborga Luigino",symbol:"SPL"},srd:{name:"Suriname Dollar",symbol:"$"},std:{name:"S\xe3o Tom\xe9 and Pr\xedncipe Dobra",symbol:"STD"},svc:{name:"El Salvador Colon",symbol:"$"},syp:{name:"Syria Pound",symbol:"\xa3"},szl:{name:"Swaziland Lilangeni",symbol:"SZL"},thb:{name:"Thailand Baht",symbol:"\u0e3f"},tjs:{name:"Tajikistan Somoni",symbol:"TJS"},tmt:{name:"Turkmenistan Manat",symbol:"TMT"},tnd:{name:"Tunisia Dinar",symbol:"DT"},top:{name:"Tonga Paanga",symbol:"TOP"},"try":{name:"Turkey Lira",symbol:"TRY"},ttd:{name:"Trinidad and Tobago Dollar",symbol:"TT$"},tvd:{name:"Tuvalu Dollar",symbol:"$"},twd:{name:"Taiwan New Dollar",symbol:"NT$"},tzs:{name:"Tanzania Shilling",symbol:"TSh"},uah:{name:"Ukraine Hryvna",symbol:"\u20b4"},ugx:{name:"Uganda Shilling",symbol:"USh"},usd:{name:"United States Dollar",symbol:"$"},uyu:{name:"Uruguay Peso",symbol:"$U"},uzs:{name:"Uzbekistan Som",symbol:"\u043b\u0432"},vef:{name:"Venezuela Bolivar",symbol:"Bs"},vnd:{name:"Viet Nam Dong",symbol:"\u20ab"},vuv:{name:"Vanuatu Vatu",symbol:"VUV"},wst:{name:"Samoa Tala",symbol:"WST"},xaf:{name:"Central African CFA Franc BEAC",symbol:"XAF"},xcd:{name:"East Caribbean Dollar",symbol:"$"},xdr:{name:"International Monetary Fund (IMF) Special Drawing Rights",symbol:"XDR"},xof:{name:"Communaut\xe9 Financi\xe8re Africaine (BCEAO) Franc",symbol:"XOF"},xpf:{name:"Comptoirs Fran\xe7ais du Pacifique (CFP) Franc",symbol:"XPF"},yer:{name:"Yemen Rial",symbol:"YER"},zar:{name:"South Africa Rand",symbol:"R"},zwd:{name:"Zimbabwe Dollar",symbol:"Z$"}},Invoiced.config.timezones=["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","UTC"]}.call(this),function(){"use strict";function EmailService(lss){var Email=function(obj){angular.extend(this,obj)};Email["default"]=function(){if(!_default){var json=lss.get("defaultEmail")||"{}";_default=angular.copy(blankEmail),angular.extend(_default,angular.fromJson(json))}return _default},Email["new"]=function(){return new Email(angular.copy(this["default"]()))},Email.prototype.makeDefault=function(){var newDefault=angular.copy(blankEmail),self=this;return angular.forEach(defaultProperties,function(property){newDefault[property]=self[property]}),_default=newDefault,lss.add("defaultEmail",angular.toJson(newDefault))},Email.prototype.isDefault=function(){var email=this,theDefault=Email["default"](),isDefault=!0;return angular.forEach(defaultProperties,function(property){var defaultValue=theDefault[property],emailValue=email[property];"object"==typeof defaultValue&&null!==defaultValue?angular.equals(defaultValue,emailValue)||(isDefault=!1):defaultValue===emailValue||null===defaultValue&&""===emailValue||(isDefault=!1)}),isDefault};var _default=null,blankEmail={to:"",to_name:"",from:"",from_name:"",message:"",paypal:!1,venmo:!1,square_cash:!1,square_cashtag:""},defaultProperties=["from","message","paypal","venmo","square_cash","square_cashtag"];return Email;

}angular.module("app").factory("Email",EmailService),EmailService.$inject=["localStorageService"]}(),function(){"use strict";function InvoiceService(lss,$window,Invoiced,Logo){function keyForID(id){return"invoice-"+id}function serialize(obj){return obj=angular.copy(obj),obj.logo&&!obj.logo_hash&&(obj.logo_hash=Logo.store(obj.logo)),delete obj.logo,angular.toJson(obj)}function deserialize(str){var obj="object"==typeof str?str:angular.fromJson(str);return obj.logo_hash&&(obj.logo=Logo.retrieve(obj.logo_hash)),migrateInvoice(obj)}function isEmpty(invoice){return invoice.draft&&!invoice.to&&!invoice.total}function migrateInvoice(invoice){return"undefined"==typeof invoice.version&&(invoice.version=1),invoice=angular.extend(angular.copy($window.defaultInvoice),invoice),invoice.version===$window.defaultInvoice.version?invoice:(3===invoice.version?migrateInvoiceV3(invoice):2===invoice.version?migrateInvoiceV2(invoice):1===invoice.version&&migrateInvoiceV1(invoice),invoice.version++,migrateInvoice(invoice))}function migrateInvoiceV3(invoice){angular.forEach(["discounts","tax","shipping"],function(type){"0"==invoice.fields[type]?invoice.fields[type]=!1:"1"==invoice.fields[type]&&(invoice.fields[type]=!0)})}function migrateInvoiceV2(invoice){invoice.currency=invoice.currency.toLowerCase(),"/img/default-invoice-logo.png"==invoice.logo&&delete invoice.logo}function migrateInvoiceV1(invoice){"img/default-invoice-logo.png"===invoice.logo&&delete invoice.logo;var deprecated={invoice_header:"header",invoice_no_title:"invoice_number_title",invoice_no:"number",description_header:"item_header",rate_header:"unit_cost_header"};angular.forEach(deprecated,function(_new,_old){"undefined"!=typeof invoice[_old]&&(invoice[_new]=invoice[_old],delete invoice[_old])}),angular.forEach(invoice.items,function(item){var deprecated2={qty:"quantity",rate:"unit_cost",description:"name"};angular.forEach(deprecated2,function(_new,_old){"undefined"!=typeof item[_old]&&(item[_new]=item[_old],delete item[_old])}),""===item.quantity&&(item.quantity=1),item.quantity=parseFloat(item.quantity),item.unit_cost=parseFloat(item.unit_cost),item.description=null}),invoice.currency=invoice.currency.toLowerCase(),"undefined"==typeof Invoiced.config.currencies[invoice.currency]&&(invoice.currency="usd"),"undefined"==typeof invoice.fields&&(invoice.fields={discounts:0,tax:"%",shipping:0}),"undefined"!=typeof invoice.tax_format&&(invoice.fields.tax=invoice.tax_format,delete invoice.tax_format),"undefined"==typeof invoice.fields.discounts&&(invoice.fields.discounts=0)}var Invoice=function(obj){angular.extend(this,obj),this.id||(this.id=this.number=Invoice.getNextID(),this.addLineItem()),this.calculate()};Invoice["default"]=function(){if(!_default){var json=lss.get("defaultInvoice")||{};_default=deserialize(json)}return _default},Invoice["new"]=function(){var params=angular.copy(this["default"]());return params.draft=!0,new Invoice(params)},Invoice.find=function(id){if(1>id||isNaN(id))return!1;if("undefined"!=typeof cache[id])return cache[id];var json=lss.get(keyForID(id));if(json){var invoice=new Invoice(deserialize(json));return cache[id]=invoice,invoice}return!1},Invoice.findAll=function(){var json=lss.get("invoicesInfo");if(json){var invoicesInfo=angular.fromJson(json),invoices=[],ids=[],self=this;return angular.forEach(invoicesInfo.ids,function(id){var invoice=self.find(id);invoice&&!isEmpty(invoice)&&(invoices.push(invoice),ids.push(id))}),angular.equals(ids,invoicesInfo.ids)||(invoicesInfo.ids=ids,lss.add("invoicesInfo",angular.toJson(invoicesInfo))),invoices.reverse()}return[]},Invoice.getLatestID=function(){var json=lss.get("invoicesInfo");if(json){var info=angular.fromJson(json),id=Math.max.apply(Math,info.ids);return"undefined"==typeof id||isNaN(id)||1>id?!1:parseInt(id)}return!1},Invoice.getNextID=function(){return this.getLatestID()+1},Invoice.setLastInvoice=function(invoice){return lss.add("lastInvoiceID",invoice.id)},Invoice.getLastInvoice=function(){return this.find(lss.get("lastInvoiceID"))},Invoice.deleteAll=function(){return lss.clearAll()?(Logo.clear(),_default=null,cache={},!0):void 0},Invoice.totalInvoices=function(){var json=lss.get("invoicesInfo");if(json){var info=angular.fromJson(json);return info.ids.length}return 0},Invoice.prototype.addLineItem=function(){this.items.push({quantity:1,name:"",description:null,unit_cost:0,amount:0})},Invoice.prototype.deleteLineItem=function(item){if(1!=this.items.length)for(var i in this.items)if(this.items[i].$$hashKey==item.$$hashKey){this.items.splice(i,1);break}},Invoice.prototype.setLogo=function(logo){this.logo=logo,delete this.logo_hash},Invoice.prototype.removeLogo=function(){this.logo=null,delete this.logo_hash},Invoice.prototype.calculate=function(){var invoice=this,total=0;angular.forEach(invoice.items,function(item){var qty=item.quantity,rate=parseFloat($window.parseFormattedNumber(""+item.unit_cost,Invoiced.config.decimalSeparator,Invoiced.config.thousandsSeparator));item.amount=qty*rate,isNaN(item.amount)&&(item.amount=0),total+=item.amount}),invoice.subtotal=total;var discounts=parseFloat(invoice.discounts);isNaN(discounts)&&(discounts=0),"%"==invoice.fields.discounts?discounts=total*discounts/100:invoice.fields.discounts&&"0"!==invoice.fields.discounts||(discounts=0);var tax=parseFloat(invoice.tax);isNaN(tax)&&(tax=0),"%"==invoice.fields.tax?tax=(total-discounts)*tax/100:invoice.fields.tax&&"0"!==invoice.fields.tax||(tax=0);var shipping=parseFloat(invoice.shipping);(isNaN(shipping)||"1"!=invoice.fields.shipping)&&(shipping=0),total=parseFloat(total)-parseFloat(discounts)+parseFloat(tax)+parseFloat(shipping),invoice.total=parseFloat(total);var amount_paid=parseFloat(invoice.amount_paid);isNaN(amount_paid)&&(amount_paid=0);var balance_due=invoice.total-parseFloat(amount_paid);invoice.balance=parseFloat(balance_due)},Invoice.prototype.save=function(){if(lss.add(keyForID(this.id),serialize(this))){cache[this.id]=this;var invoicesInfo={ids:[]},json=lss.get("invoicesInfo");json&&(invoicesInfo=angular.fromJson(json));var found=!1;for(var i in invoicesInfo.ids)if(invoicesInfo.ids[i]==this.id){found=!0;break}return found||invoicesInfo.ids.push(this.id),lss.add("invoicesInfo",angular.toJson(invoicesInfo))}return!1},Invoice.prototype.makeDefault=function(){var newDefault=angular.copy($window.defaultInvoice),self=this;angular.forEach(defaultProperties,function(property){newDefault[property]=angular.copy(self[property])}),_default=newDefault,lss.add("defaultInvoice",serialize(newDefault))},Invoice.prototype.isDefault=function(){var invoice=this,theDefault=Invoice["default"](),isDefault=!0;return angular.forEach(defaultProperties,function(property){var defaultValue=theDefault[property],invoiceValue=invoice[property];"object"==typeof defaultValue&&null!==defaultValue?angular.equals(defaultValue,invoiceValue)||(isDefault=!1):defaultValue===invoiceValue||null===defaultValue&&""===invoiceValue||(isDefault=!1)}),isDefault},Invoice.prototype["delete"]=function(){if(lss.remove(keyForID(this.id))){delete cache[this.id];var json=lss.get("invoicesInfo");if(json){var invoicesInfo=angular.fromJson(json);for(var i in invoicesInfo.ids)if(invoicesInfo.ids[i]==this.id){invoicesInfo.ids.splice(i,1);break}lss.add("invoicesInfo",angular.toJson(invoicesInfo))}return!0}};var defaultProperties=["currency","fields","logo","from","to_title","header","date_title","due_date_title","item_header","quantity_header","unit_cost_header","amount_header","subtotal_title","discounts_title","tax_title","shipping_title","total_title","amount_paid_title","balance_title","terms_title","terms","notes_title","notes"],_default=null,cache={};return Invoice}angular.module("app").factory("Invoice",InvoiceService),InvoiceService.$inject=["localStorageService","$window","Invoiced","Logo"]}(),function(){"use strict";function LeavePageWarning($window,$rootScope){var _blockers=0;return{block:function(){return _blockers++,$($window).off("beforeunload").bind("beforeunload",function(){$rootScope.$broadcast("leavePageWarning")}),this},unblock:function(){return _blockers--,_blockers=Math.max(0,_blockers),0===_blockers&&$($window).off("beforeunload"),this},canLeave:function(){return 0===_blockers}}}angular.module("app").factory("LeavePageWarning",LeavePageWarning),LeavePageWarning.$inject=["$window","$rootScope"]}(),function(){"use strict";function LogoService(lss,LZString,md5){var Logo={},cached={};Logo.store=function(logo){var hash=md5.hash(logo),k=key(hash);if("undefined"==typeof cached[hash]&&!lss.get(k)){var compressed=LZString.compressToUTF16(logo);lss.add(k,compressed),cached[hash]=logo}return hash},Logo.retrieve=function(hash){if("undefined"==typeof cached[hash]){var compressed=lss.get(key(hash));cached[hash]=LZString.decompressFromUTF16(compressed)}return cached[hash]},Logo.read=function(element,success,failure){var reader=new FileReader,files=element.files,file=files[0];reader.onload=function(e){return e=e||window.event,file.size>786432?void failure("The image you have selected is too large. It must be 768KB or less"):-1==$.inArray(file.type,["image/jpeg","image/gif","image/pjpeg","image/png"])?void failure("The image you uploaded is not in a file type we accept. Please use a JPEG, PNG, or GIF"):void success(e.target.result)},reader.onerror=function(e){switch(e=e||window.event,e.target.error.code){case e.target.error.NOT_FOUND_ERR:failure("File not found!");break;case e.target.error.NOT_READABLE_ERR:failure("File not readable!");break;case e.target.error.ABORT_ERR:failure("Read operation was aborted!");break;case e.target.error.SECURITY_ERR:failure("File is in a locked state!");break;case e.target.error.ENCODING_ERR:failure('The file is too long to encode in a "data://" URL.');break;default:failure("Read error.")}},reader.readAsDataURL(file)},Logo.clear=function(){cached={}};var key=function(hash){return"logo-"+hash};return Logo}angular.module("app").factory("Logo",LogoService),LogoService.$inject=["localStorageService","LZString","md5"]}(),function(){"use strict";function LZStringService(){return LZString}angular.module("app").factory("LZString",LZStringService)}(),function(){"use strict";function MD5Service(){return{hash:function(str){return md5(str)}}}angular.module("app").factory("md5",MD5Service)}(),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function resize(){$(this).closest(".expandingText").find("div").text(this.value.replace(/\r\n/g,"\n")+" "),$(this).trigger("resize.expanding")}$.expandingTextarea=$.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},$.expandingTextarea||{});var cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],textareaCSS={position:"absolute",height:"100%",resize:"none"},preCSS={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},containerCSS={position:"relative"};$.fn.expandingTextarea=function(o){var opts=$.extend({},$.expandingTextarea.opts,o);return"resize"===o?this.trigger("input.expanding"):"destroy"===o?(this.filter(".expanding-init").each(function(){var textarea=$(this).removeClass("expanding-init"),container=textarea.closest(".expandingText");container.before(textarea).remove(),textarea.attr("style",textarea.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var textarea=$(this);textarea.wrap("<div class='expandingText'></div>"),textarea.after("<pre class='textareaClone'><div></div></pre>");var container=textarea.parent().css(containerCSS),pre=container.find("pre").css(preCSS);textarea.data("expanding-styles",textarea.attr("style")),textarea.css(textareaCSS),$.each(cloneCSSProperties,function(i,p){var val=textarea.css(p);pre.css(p)!==val&&pre.css(p,val)}),textarea.bind("input.expanding propertychange.expanding keyup.expanding",resize),resize.apply(this),opts.resize&&textarea.bind("resize.expanding",opts.resize)}),this)},$(function(){$.expandingTextarea.autoInitialize&&$($.expandingTextarea.initialSelector).expandingTextarea()})}),!function(e,n){function o(e,n){return typeof e===n}function a(){var e,n,s,a,i,f,r;for(var c in l)if(l.hasOwnProperty(c)){if(e=[],n=l[c],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(s=0;s<n.options.aliases.length;s++)e.push(n.options.aliases[s].toLowerCase());for(a=o(n.fn,"function")?n.fn():n.fn,i=0;i<e.length;i++)f=e[i],r=f.split("."),1===r.length?Modernizr[r[0]]=a:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=a),t.push((a?"":"no-")+r.join("-"))}}function i(e){var n=r.className,s=Modernizr._config.classPrefix||"";if(c&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+s+"no-js(\\s|$)");n=n.replace(o,"$1"+s+"js$2")}Modernizr._config.enableClasses&&(n+=" "+s+e.join(" "+s),c?r.className.baseVal=n:r.className=n)}var t=[],l=[],f={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var s=this;setTimeout(function(){n(s[e])},0)},addTest:function(e,n,s){l.push({name:e,fn:n,options:s})},addAsyncTest:function(e){l.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=f,Modernizr=new Modernizr,Modernizr.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader));var r=n.documentElement,c="svg"===r.nodeName.toLowerCase();a(),i(t),delete f.addTest,delete f.addAsyncTest;for(var u=0;u<Modernizr._q.length;u++)Modernizr._q[u]();e.Modernizr=Modernizr}(window,document),angular.module("app").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("/templates/currency-selector.html",'<div class=modal-header>\n	<a role=button class=close ng-click=cancel() aria-hidden=true>&times;</a>\n	<h4 class=modal-title>\n		Select Currency\n	</h4>\n</div>\n<div class=modal-body>\n	<div class="modal-selector slim">\n		<div class=search>\n			<div class="searchbar light">\n				<div class=bar>\n					<div class=icon><span class=ion-search></span></div>\n					<input class=form-control ng-model=search tabindex=2000>\n					<div class="icon right" ng-show=search>\n						<button type=button class="btn btn-link" ng-click="search=\'\'" tabindex=2001>\n							<span class=ion-close-circled></span>\n						</button>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class=currencies-list tabindex=0>\n			<a class="currency noselect" ng-repeat="currency in currencies | filter:search | orderBy:\'name\' as results" ng-click=select(currency) tabindex="{{$index + 2003}}">\n				<div class=title>\n					{{currency.name}}\n				</div>\n				<div class=symbol>\n					{{currency.symbol}}\n				</div>\n				<div class="ion arrow"></div>\n			</a>\n			<div class=empty ng-show="results.length==0">\n				No matching currencies found\n			</div>\n		</div>\n	</div>\n</div>'),$templateCache.put("/templates/email.html",'<form name=emailForm ng-submit=send(invoice,email) class=email-form>\n	<div class=modal-header>\n		<a role=button class=close ng-click=cancel() aria-hidden=true>&times;</a>\n		<h4 class=modal-title>\n			Send Invoice\n		</h4>\n	</div>\n	<div class="modal-body form-horizontal">\n		<p class="alert alert-danger" ng-show=error>{{error}}</p>\n\n		<div class=form-group>\n			<label class="control-label col-sm-3">\n				To <span class=required>*</span>\n			</label>\n			<div class=col-sm-9>\n				<div class=input-group>\n					<span class=input-group-addon>{{email.to_name|limitTo:20}}</span>\n					<input type=email class=form-control placeholder="Your client\'s email address" name=to ng-model=email.to required>\n				</div>\n			</div>\n			<div class="col-sm-9 col-sm-offset-3 no-spam-label">\n				<span class=ion-locked></span> We promise to never spam your client\'s email address. We hate spam just as much as you.\n			</div>\n		</div>\n\n		<div class=form-group>\n			<label class="control-label col-sm-3">\n				From <span class=required>*</span>\n			</label>\n			<div class=col-sm-9>\n				<div class=input-group>\n					<span class=input-group-addon>{{email.from_name|limitTo:20}}</span>\n					<input type=email class=form-control placeholder="Your email address" name=from ng-model=email.from required>\n				</div>\n			</div>\n			<div class="col-sm-9 col-sm-offset-3 delivery-confirmation-label">\n				You will receive a delivery confirmation with a copy of your invoice.\n			</div>\n		</div>\n\n		<div class=form-group>\n			<label class="control-label col-sm-3">Subject</label>\n			<div class="col-sm-9 form-control-static">\n				Invoice from {{email.from_name}}<span ng-show=invoice.number>: # {{invoice.number}}</span>\n			</div>\n		</div>\n\n		<div class=form-group>\n			<label class="control-label col-sm-3">\n				Message <span class=required>*</span>\n			</label>\n			<div class=col-sm-9>\n				<textarea class=form-control ng-model=email.message placeholder="A friendly message to your client" expanding-textarea required></textarea>\n			</div>\n		</div>\n		\n		<div class=form-group ng-show="invoice.balance>0">\n			<label class="control-label col-sm-3">\n				Payment\n			</label>\n			<div class=col-sm-9>\n				<div class=payment-option>\n					<label class=noselect>\n						<input type=checkbox ng-model=email.paypal>\n						Add <strong>PayPal</strong> payment link\n					</label>\n					<div class=recipient ng-show=email.paypal&&email.from>\n						<strong>{{email.from}}</strong> will be the PayPal recipient.\n					</div>\n				</div>\n\n				<div class=payment-option>\n					<label class=noselect>\n						<input type=checkbox ng-model=email.venmo>\n						Add <strong>Venmo</strong> payment link\n					</label>\n					<div class=recipient ng-show=email.venmo&&email.from>\n						<strong>{{email.from}}</strong> will be the Venmo recipient.\n					</div>\n				</div>\n\n				<div class=payment-option ng-show="invoice.currency==\'usd\'">\n					<label class=noselect>\n						<input type=checkbox ng-model=email.square_cash>\n						Add <strong>Square Cash</strong> payment link\n					</label>\n					<div class=recipient ng-if=email.square_cash>\n						Your <a href=https://cash.me/cashtags target=_blank>$cashtag</a>:\n						<input class="form-control input-sm input-cashtag" placeholder="i.e. $Wikipedia" ng-model=email.square_cashtag required>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n	<div class=modal-footer>\n		<div class=attach-note>\n			<span class="glyphicon glyphicon-paperclip"></span> Invoice Attached\n		</div>\n		<button type=button class="btn btn-link" ng-hide=isDefault() ng-click=saveDefaults()>\n			Save email template\n		</button>\n		<button type=submit class="btn btn-primary Button" ng-disabled=emailForm.$invalid||sending v-busy=sending v-busy-label=Sending v-pressable>\n			Send\n		</button>\n	</div>\n</form>'),$templateCache.put("/templates/help.html",'<div class="body help">\n	<h1>\n		<a href=#/last class="btn btn-default">\n			<i class=ion-arrow-left-c></i>\n		</a>\n		Help\n	</h1>\n\n	<p class=lead>\n		Invoice Generator lets you make invoices in one-click that can be sent and paid online or downloaded. The service is free with no signup necessary!\n	</p>\n\n	<section>\n		<h3>Why use Invoice Generator?</h3>\n		<ol>\n			<li>\n				<strong>100% FREE</strong><br>\n				There are no limits. Use it as much as you like.\n			</li>\n			<li>\n				<strong>It\'s safe!</strong><br>\n				You are in complete control over your data. Invoice Generator does not keep a copy of invoices you create, nor do we mine your customer data (some free invoicing tools do). We also secure our site using industry-standard SSL encryption.\n			</li>\n			<li>\n				<strong>No signup!</strong><br>\n				Invoice Generator gives you the ability to save invoices inside of your browser, eliminating the need for an account. It\'s exhausting having to sign up for every web service you want to use. Invoice Generator lets you generate invoices straight from the landing page!\n			</li>\n			<li>\n				<strong>It\'s mobile!</strong><br>\n				Invoice on-the-go from any device\n			</li>\n		</ol>\n\n		<p>\n			Our objective at Invoiced is to make invoicing as simple as possible. We built this invoice generator solely dedicated to this purpose. We want to give you the best possible invoicing experience, and hope it saves you from the many frustrations that come with invoicing.\n		</p>\n	</section>\n\n	<section>\n		<h3>How do I use Invoice Generator?</h3>\n\n		<h4>System Requirements</h4>\n		<p>\n			A modern web browser is required &mdash; we &#9829; <a href=https://firefox.com target=_blank>Firefox</a>.\n		</p>\n		<br>\n\n		<h4>Generating Invoices</h4>\n		<p>\n			It\'s easy! Fill out the template with all the details you want on your invoice. The template editor closely matches what the result will look like. Once you are ready, just click <strong>Download Invoice</strong> to download a PDF of your invoice. If you made a mistake, don\'t worry, you can go back and update the invoice by clicking <strong>Edit this invoice</strong>.\n		</p>\n		<p class=text-info>\n			<span class=ion-information-circled></span>\n			The download and send buttons will be disabled until you fill in your information and your client\'s information into the to/from fields. If you do not see your invoice once you click download then you should check your Downloads folder.\n		</p>\n		<br>\n\n		<h4>Sending Invoices</h4>\n		<p>\n			Invoices can be sent straight from Invoice Generator. Fill out the invoice template with all of the desired information. When finished, click the <strong>Send Invoice</strong> button.\n		</p>\n		<p>\n			A form will appear where you need to give your client\'s email address where you want to send the invoice to and your email address. You can customize the message if you want. Once you click <strong>Send</strong> the invoice will be sent to your client as a PDF attachment with your customized message. If your client replies to the invoice email it will go to you. You will also receive a confirmation email from us with a copy of your invoice.\n		</p>\n		<br>\n\n		<h4>Payments</h4>\n		<p>\n			You can get paid online with PayPal, Venmo, and Square Cash for invoices sent through Invoice Generator. Simply check the payment methods you want to accept when sending invoices and we will include a payment link with your invoice.\n		</p> \n		<br>\n\n		<h4>Saving Invoices</h4>\n		<p>\n			Invoices are auto-saved to your device. This allows you to go back and edit past invoices.\n		</p>\n		<p>\n			You can access past invoices on the <a href=/#/invoices>My Invoices</a> page. Simply click on a previously generated invoice to open it in the editor. You can also export your invoices to a CSV (comma-separated values) file by clicking the <strong>Export</strong> button.\n		</p>\n		<p>\n			Individual invoices can be deleted by hovering over the invoice and clicking the <strong>X</strong> button. Clicking <strong>Erase Everything</strong> will erase all saved invoices and any customizations to the invoice template.\n		</p>\n\n		<p class="alert alert-danger">\n			<span class=ion-alert-circled></span>\n			Clearing your browser history will clear all of your invoices. If keeping the invoices permanently is important to you, please keep a backup of each PDF.\n		</p>\n		<br>\n\n		<h4>Customizing the Invoice Template</h4>\n		<p>\n			If you find yourself using Invoice Generator often, you can memorize your invoice template customizations. Just click <strong>Save Template</strong> in the right sidebar after you have finished customizing your invoice template. Now every time you use Invoice Generator your personalized invoice template will be loaded.\n		</p>\n		<p>\n			The invoice template will remember your:\n		</p>\n		<ul>\n			<li>From Address</li>\n			<li>Logo</li>\n			<li>Currency</li>\n			<li>Terms</li>\n			<li>Notes</li>\n			<li>Field Titles</li>\n		</ul>\n	</section>\n\n	<section>\n		<h3>Have questions?</h3>\n		<p>\n			Tweet us <a href=https://twitter.com/invoicedapp target=_blank>@invoicedapp</a>\n		</p>\n	</section>\n\n	<section>\n		<h3>Invoice Generator API</h3>\n		<p>\n			Save yourself the hassle of setting up an invoice template and all of the frustration associated with generating PDFs. Our service gives you a clean interface for quick, attractive invoices generated from your code.\n		</p>\n		<p>\n			<a href=https://github.com/Invoiced/invoice-generator-api class="btn btn-primary" target=_blank>\n				<span class=ion-social-github></span> Learn more on GitHub\n			</a>\n		</p>\n	</section>\n\n	<section>\n	<h3>What was Invoice Generator built with?</h3>\n		<p>\n			Invoice Generator uses <a href=https://en.wikipedia.org/wiki/Web_storage target=_blank>HTML5 localStorage</a> to remember your invoices without requiring you to create an account with us. The app was built using <a href=http://angularjs.org/ target=_blank>AngularJS</a>, a superheroic Javascript framework.\n		</p>\n	</section>\n\n	<section>\n		<h3>Need more features?</h3>\n		<p>\n			Invoiced Pro makes invoicing and getting paid as simple as possible. Your invoices are stored securely online, we notify you when a client views an invoice, and you can accept online payments!\n		</p>\n		<p>\n			<a href=/upgrade class="btn btn-lg btn-primary btn-outline">\n				Get Better Invoicing\n			</a>\n		</p>\n	</section>\n\n	<section>\n		<h3>What\'s new?</h3>\n		<dl class=dl-horizontal>\n			<dt>December 22, 2016</dt>\n			<dd>Read our new <a href=/guide>Invoicing Guide</a> to learn how to invoice like a boss and get paid.</dd>\n			<dt>September 12, 2016</dt>\n			<dd>Added a "Payment Terms" field.</dd>\n			<dt>November 25, 2015</dt>\n			<dd>New payment options! You can now get paid online with Venmo and Square Cash. Previously we only supported PayPal.</dd>\n			<dt>October 23, 2015</dt>\n			<dd>The invoice generator UI has been refreshed. The interface has been cleaned up, allowing you to get invoices out the door faster.</dd>\n			<dt>August 28, 2015</dt>\n			<dd>We now send you an alert if an invoice email we delivered bounces several hours later.</dd>\n			<dt>July 13, 2015</dt>\n			<dd>Invoice numbers are now automatically generated for you. Each new invoice you create will increment the invoice number by one. Custom invoice numbers are still supported also.</dd>\n			<dt>June 27, 2015</dt>\n			<dd>Invoices can now be exported to a CSV (comma-separated values) file by going to My Invoices and clicking the Export to CSV button.</dd>\n			<dt>February 13, 2015</dt>\n			<dd>The Invoice Generator API has been launched. You can <a href=https://github.com/Invoiced/invoice-generator-api target=_blank>learn more about it on GitHub</a>.</dd>\n			<dt>February 6, 2015</dt>\n			<dd>Sending invoices just got better. The send invoice form has been simplified. You can now customize the entire message when sending invoices to your clients. We also send out a delivery confirmation email to you once your invoice has been delivered to your client. This replaces the "Send me a Copy" option.</dd>\n			<dt>February 5, 2015</dt>\n			<dd>A brand new invoice template is here! Invoicing has gotten even better. The new template is more economical with white space, makes your branding stand out more, and uses less ink if you are printing invoices.</dd>\n			<dt>November 14, 2014</dt>\n			<dd>Fancy decimals! The invoice template has crisper decimal formatting.</dd>\n			<dt>November 10, 2014</dt>\n			<dd>Improved the invoice template. Smoothed out some issues on the interface and cleaned up the UI for a quicker invoicing experience.</dd>\n			<dt>September 8, 2014</dt>\n			<dd>The site is now secured with SSL by default. Please update your bookmarks to <a href=https://invoice-generator.com>https://invoice-generator.com</a>. Also, improved email preview and now can save email values as defaults.</dd>\n			<dt>August 29, 2014</dt>\n			<dd>You can now invoice in Bitcoin! Invoice Generator has several new currencies. Also refreshed invoice template and added a terms field.</dd>\n			<dt>May 7, 2014</dt>\n			<dd>Invoices have a new and improved template and invoices sent via email are delivered more reliably.</dd>\n			<dt>March 20, 2014</dt>\n			<dd>New features: discount and shipping lines, and the tax line can now be turned off. Also, fixed various bugs  caused by the most recent update.</dd>\n			<dt>March 10, 2014</dt>\n			<dd>Invoice Generator is now mobile! The site has a fresh look that works on any device, including smartphones, tablets, and desktop screens. We have also improved the invoice template with many subtle enhancements.</dd>\n			<dt>January 18, 2014</dt>\n			<dd>Switched invoice PDF generation library from dompdf to wkhtmltopdf for a massive speed increase and smaller file sizes.</dd>\n			<dt>January 15, 2014</dt>\n'+"			<dd>Labeled 'From' and 'Client' invoice fields with labels. Fixed bug causing tall logos to not be sized properly. Line item description now wraps when automatically. Also, cleaned up invoice template design.</dd>\n			<dt>December 3, 2013</dt>\n			<dd>Improved error messages for improper logos and sped up page load time.</dd>\n			<dt>September 25, 2013</dt>\n			<dd>Corrected a bug that caused some currency symbols to render improperly.</dd>\n			<dt>July 31, 2013</dt>\n			<dd>Fixed a bug where the resulting PDF came out as jumbled text. We deeply apologize for any inconvenience this may have caused.</dd>\n			<dt>July 28, 2013</dt>\n			<dd>Longer running notes now wrap to a new page. The 'To' and 'From' fields are now left aligned. Instead of the output filename always being 'Invoice.pdf', it's now 'Invoice invoice_number.pdf' if an invoice number is given. Also made subtle design improvements to the interface and resulting invoice.</dd>\n			<dt>July 25, 2013</dt>\n			<dd>Limited logo file size to 1MB. Please resize anything larger to make sure it does not exceed 200 pixels in width or height. Invoice logos\n			are not required to be square.</dd>\n			<dt>July 16, 2013</dt>\n			<dd>Cleaned up UI and added Venezuelen Bolivars to currencies.</dd>\n			<dt>June 19, 2013</dt>\n			<dd>Emails are now beautiful too! Improved email template and sped up send times.</dd>\n			<dt>May 10, 2013</dt>\n			<dd>Fixed various bugs. Thank you for everyone who reported problems.</dd>\n			<dt>May 7, 2013</dt>\n			<dd>Invoiced now supports the international date format (d/m/y).</dd>\n			<dt>May 1, 2013</dt>\n			<dd>Fixed bug that caused 'Amount Paid' to incorrectly round up.</dd>\n			<dt>April 30, 2013</dt>\n			<dd>Generated invoice PDFs now support Unicode. New button to remove invoice logos.</dd>\n			<dt>April 26, 2013</dt>\n			<dd>Renamed 'Invoice Generator' to 'Invoiced'. Invoices are now saved to local storage for your convenience. Improved site design, updated help documentation, and included feedback form on thank you page. Let us know what you think!</dd>\n			<dt>March 24, 2013</dt>\n			<dd>Improved invoice template. Now it is possible to email invoices as PDF attachments from the site.</dd>\n			<dt>January 15, 2013</dt>\n			<dd>Invoice Generator has been completely redesigned. New fields for 'Tax', 'Amount Paid', and 'Balance' were added. We now support additional currency symbols.\n				The limit of 5 items per invoice was removed, now any number of items may be added to an invoice. The title of any invoice field can be edited for a truly customizable invoice.</dd>\n			<dt>June 6, 2012</dt>\n			<dd>Launch!</dd>\n		</dl>\n	</section>\n\n	<h3>Privacy and Terms of Use</h3>\n	<p>\n		Invoice Generator does not store any of your information on its servers. Information only gets stored to the local storage inside your web browser, which can be erased at your discretion. The functionality on Invoice Generator is provided \"as is\" with no expressed or implied warranties. By using Invoice Generator you agree to not hold its owner liable for any consequential or incidental damages.\n	</p>\n	<p>\n		The service itself including the use of the Invoiced name, logos, domain names and other distinctive brand features are protected by copyright and other laws: &copy; Invoiced. All rights reserved. You may not duplicate, copy, or reuse any portion of the code (HTML/CSS/Javascript) or use visual design elements.\n	</p>\n</div>"),
    $templateCache.put("/templates/invoice.html",'<form name=invoiceForm>\n	<div class="invoice-holder clearfix">\n		<div class=mobile-btns>\n			<div class=inner>\n				<div class=my-invoices-btn>\n					<a href=/#/invoices class="btn btn-link">\n						My Invoices\n						<span class=badge ng-show="numInvoices>0">{{numInvoices}}</span>\n					</a>\n				</div>\n				<div class=right>\n					<button type=button class="btn btn-link" ng-disabled=invoiceForm.$invalid ng-click=downloadPDF()>\n						<span class=ion-arrow-down-c></span>\n						Download\n					</button>\n					<button type=button class="btn btn-primary" ng-disabled=invoiceForm.$invalid ng-click=emailModal()>\n						Send\n					</button>\n				</div>\n			</div>\n		</div>\n\n		<div class="invoice-controls desktop">\n			<div class=affix-el id=invoice-controls-affix>\n				<div class="btns clearfix">\n					<div class=btn-holder>\n						<button type=button class="btn btn-primary btn-lg btn-block" ng-disabled=invoiceForm.$invalid ng-click=emailModal() tabindex=1050>\n							Send Invoice\n						</button>\n					</div>\n					<div class=btn-holder>\n						<button type=button class="btn btn-link btn-lg btn-block" ng-disabled=invoiceForm.$invalid ng-click=downloadPDF() tabindex=1051>\n							<span class=ion-arrow-down-c></span> Download Invoice\n						</button>\n					</div>\n				</div>\n\n				<div class="section selected-currency">\n					<a href=# ng-click=selectCurrency();$event.preventDefault() tabindex=1052>\n						Currency:\n						<strong>{{currencyName}}</strong>\n						<span class="ion-edit edit-icon"></span>\n					</a>\n				</div>\n\n				<div class="section save-template">\n					<a href=# ng-click=saveDefaults();$event.preventDefault() ng-show=!isDefault() tabindex=1053>\n						Save template\n					</a>\n					<div class=using-default ng-show=isDefault()>\n						Using Default Template\n					</div>\n				</div>\n\n				<div class="section my-invoices-btn">\n					<a href=/#/invoices tabindex=1054>\n						My Invoices\n						<span class=badge ng-show="numInvoices>0">{{numInvoices}}</span>\n					</a>\n				</div>\n			</div>\n		</div>\n\n		<div class=papers>\n			<div class=invoice>\n				<div class="two-col clearfix">\n					<div class=title>\n						<input class="form-control input-label" ng-model=invoice.header tabindex=10>\n						<div class=subtitle>\n							<div class=input-group>\n								<span class=input-group-addon>#</span>\n								<input class=form-control tabindex=11 ng-model=invoice.number>\n							</div>\n						</div>\n					</div>\n\n					<div class=col>\n						<div class="logo noselect">\n						  	<div class=placeholder ng-hide=invoice.logo>\n						  		<div class=main><span class=ion-plus-round></span> Add Your Logo</div>\n						  		<div class="secondary hidden">optional</div>\n						  	</div>\n							<img ng-show=invoice.logo ng-src={{invoice.logo}} alt="Invoice Logo">\n							<input type=file accept=image/* class=file-1 onchange=angular.element(this).scope().changeLogo(this) tabindex=12>\n							<input type=file accept=image/* class=file-2 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-3 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-4 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-5 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-6 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-7 onchange=angular.element(this).scope().changeLogo(this)>\n							<input type=file accept=image/* class=file-8 onchange=angular.element(this).scope().changeLogo(this)>\n							<button class=remove-logo ng-show=invoice.logo ng-click=removeLogo() tabindex=13>\n								<span class=ion-close-round></span>\n							</button>\n						</div>\n\n						<div class="logo-not-supported alert alert-warning">\n							<span class="glyphicon glyphicon-exclamation-sign"></span>\n							Uploading logos is not supported by your browser. Please consider <a href=https://firefox.com target=_blank>upgrading</a>.\n						</div>\n\n						<div class="contact from">\n							<div class=value>\n								<textarea class=form-control placeholder="Who is this invoice from? (required)" ng-model=invoice.from tabindex=15 required expanding-textarea></textarea>\n							</div>\n						</div>\n\n						<div class="contact to">\n							<div class=field>\n								<input class="input-label form-control" ng-model=invoice.to_title tabindex=16>\n							</div>\n							<div class=value>\n								<textarea class=form-control placeholder="Who is this invoice to? (required)" ng-model=invoice.to tabindex=17 required expanding-textarea></textarea>\n							</div>\n						</div>\n					</div>\n\n					<div class="col fields">\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.date_title tabindex=19>\n							<div class=input-group-addon>\n								<input class="form-control datepicker date" ng-model=invoice.date tabindex=20 date-picker>\n							</div>\n						</div>\n\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.payment_terms_title tabindex=21>\n							<div class=input-group-addon>\n								<input class=form-control ng-model=invoice.payment_terms tabindex=22>\n							</div>\n						</div>\n\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.due_date_title tabindex=23>\n							<div class=input-group-addon>\n								<input class="form-control datepicker due-date" ng-model=invoice.due_date tabindex=24 date-picker>\n							</div>\n						</div>\n\n						<div class="input-group addon-input highlight">\n							<input class="input-label form-control" ng-model=invoice.balance_title tabindex=25>\n							<div class="input-group-addon value highlight" ng-bind-html=invoice.balance|currencyFormat:invoice.currency></div>\n						</div>\n					</div>\n				</div>\n\n				<div class=items-holder>\n					<div class=items-table-header>\n						<div class=amount>\n							<div class="field bordered">\n								<input class="input-label form-control" ng-model=invoice.amount_header tabindex=29>\n							</div>\n						</div>\n						<div class=unit_cost>\n							<div class="field bordered">\n								<input class="input-label form-control" required ng-model=invoice.unit_cost_header tabindex=28>\n							</div>\n						</div>\n						<div class=quantity>\n							<div class="field bordered">\n								<input class="input-label form-control" ng-model=invoice.quantity_header tabindex=27>\n							</div>\n						</div>\n						<div class=name>\n							<div class="field bordered">\n								<input class="input-label form-control" ng-model=invoice.item_header tabindex=26>\n							</div>\n						</div>\n					</div>\n					<div class=items-table>\n						<div class=item-row ng-repeat="(k, item) in invoice.items">\n							<div class=main-row>\n								<div class=delete ng-hide="invoice.items.length==1">\n									<button type=button class=delete-row ng-click=deleteLineItem(item) tabindex={{30+8*k+5}}>\n										<i class=ion-close-round></i>\n									</button>\n								</div>\n								<div class="amount value" ng-bind-html=item.amount|currencyFormat:invoice.currency></div>\n								<div class=unit_cost>\n									<div ng-tabindex=30+8*k+3 ng-model=item.unit_cost currency=invoice.currency ng-required=true input-amount></div>\n								</div>\n								<div class=quantity>\n									<input type=number step=any class=form-control autocomplete=off ng-model=item.quantity tabindex={{30+8*k+2}} placeholder=Quantity required>\n								</div>\n								<div class=name>\n									<textarea class=form-control ng-model=item.name tabindex={{30+8*k+1}} placeholder="Description of service or product..." expanding-textarea></textarea>\n								</div>\n							</div>\n						</div>\n					</div>\n					<div class=new-line>\n						<button type=button class="btn btn-primary" tabindex=1000 ng-click=addLineItem()>\n							<span class=ion-plus-round></span>\n							Line Item\n						</button>\n					</div>\n				</div>\n\n				<div class="two-col clearfix rates">\n					<div class="col col-offset">\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.subtotal_title tabindex=1001>\n							<div class="input-group-addon value deleteable" ng-bind-html=invoice.subtotal|currencyFormat:invoice.currency></div>\n						</div>\n\n						<div class="input-group addon-input" ng-show=!!invoice.fields.discounts>\n							<div class=delete>\n								<button type=button class="btn btn-link" ng-click=removeDiscount()>\n									<span class=ion-close-round></span>\n								</button>\n							</div>\n							<input class="input-label form-control" ng-model=invoice.discounts_title tabindex=1002>\n							<div class="input-group-addon input deleteable">\n								<div input-amount is-rate=discountIsRate currency=invoice.currency ng-model=invoice.discounts ng-tabindex=1003 has-selector=true></div>\n							</div>\n						</div>\n\n						<div class="input-group addon-input" ng-show=!!invoice.fields.tax>\n							<div class=delete>\n								<button type=button class="btn btn-link" ng-click=removeTax()>\n									<span class=ion-close-round></span>\n								</button>\n							</div>\n							<input class="input-label form-control" ng-model=invoice.tax_title tabindex=1004>\n							<div class="input-group-addon input deleteable">\n								<div input-amount is-rate=taxIsRate currency=invoice.currency ng-model=invoice.tax ng-tabindex=1005 has-selector=true></div>\n							</div>\n						</div>\n\n						<div class="input-group addon-input" ng-show=!!invoice.fields.shipping>\n							<div class=delete>\n								<button type=button class="btn btn-link" ng-click=removeShipping()>\n									<span class=ion-close-round></span>\n								</button>\n							</div>\n							<input class="input-label form-control" ng-model=invoice.shipping_title tabindex=1006>\n							<div class="input-group-addon input deleteable">\n								<div input-amount is-rate=false currency=invoice.currency ng-model=invoice.shipping ng-tabindex=1007></div>\n							</div>\n						</div>\n\n						<div class=add-rates>\n							<button type=button class="btn btn-link btn-sm" ng-click=addDiscount() ng-hide=!!invoice.fields.discounts tabindex=1008>\n								<span class=ion-plus-round></span>\n								Discount\n							</button>\n							<button type=button class="btn btn-link btn-sm" ng-click=addTax() ng-hide=!!invoice.fields.tax tabindex=1009>\n								<span class=ion-plus-round></span>\n								Tax\n							</button>\n							<button type=button class="btn btn-link btn-sm" ng-click=addShipping() ng-hide=!!invoice.fields.shipping tabindex=1010>\n								<span class=ion-plus-round></span>\n								Shipping\n							</button>\n						</div>\n\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.total_title tabindex=1011>\n							<div class="input-group-addon value deleteable" ng-bind-html=invoice.total|currencyFormat:invoice.currency></div>\n						</div>\n\n						<div class="input-group addon-input">\n							<input class="input-label form-control" ng-model=invoice.amount_paid_title tabindex=1012>\n							<div class="input-group-addon input deleteable">\n								<div input-amount currency=invoice.currency ng-model=invoice.amount_paid ng-tabindex=1013></div>\n							</div>\n						</div>\n					</div>\n				</div>\n\n				<div class=footer>\n					<div class=notes-holder>\n						<div class=field>\n							<input class="input-label form-control" ng-model=invoice.notes_title tabindex=1014>\n						</div>\n						<div class=value>\n							<textarea class="notes form-control" placeholder="Notes - any relevant information not already covered" ng-model=invoice.notes tabindex=1015 expanding-textarea></textarea>\n						</div>\n					</div>\n					<div class=terms-holder>\n						<div class=field>\n							<input class="input-label form-control" ng-model=invoice.terms_title tabindex=1016>\n						</div>\n						<div class=value>\n							<textarea class="terms form-control" placeholder="Terms and conditions - late fees, payment methods, delivery schedule" ng-model=invoice.terms tabindex=1017 expanding-textarea></textarea>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n\n		<div class="invoice-controls mobile">\n			<div class="btns clearfix visible-sm">\n				<div class=btn-holder>\n					<button class="btn btn-primary btn-lg btn-block" ng-disabled=invoiceForm.$invalid ng-click=emailModal()>\n						Send Invoice\n					</button>\n				</div>\n				<div class=btn-holder>\n					<button class="btn btn-link btn-lg btn-block" ng-disabled=invoiceForm.$invalid ng-click=downloadPDF()>\n						<span class=ion-arrow-down-c></span> Download Invoice\n					</button>\n				</div>\n			</div>\n\n			<div class="section selected-currency">\n				<a href=# ng-click=selectCurrency();$event.preventDefault()>\n					Currency:\n					<strong>{{currencyName}}</strong>\n					<span class="ion-edit edit-icon"></span>\n				</a>\n			</div>\n\n			<div class="section save-template">\n				<a href=# ng-click=saveDefaults();$event.preventDefault() ng-show=!isDefault()>\n					Save template\n				</a>\n				<div class=using-default ng-show=isDefault()>\n					Using Default Template\n				</div>\n			</div>\n\n			<div class="section my-invoices-btn visible-sm">\n				<a href=/#/invoices>\n					My Invoices\n					<span class=badge ng-show="numInvoices>0">{{numInvoices}}</span>\n				</a>\n			</div>\n		</div>\n	</div>\n</form>'),$templateCache.put("/templates/invoices.html",'<div class="body my-invoices-holder">\n	<h1>\n		My Invoices\n	</h1>\n	<p class=lead>\n		We automatically save any invoices that you draft to your device.\n	</p>\n\n	<div class=row>\n		<div class=col-sm-4>\n			<div class=search>\n				<div class="searchbar light">\n					<div class=bar>\n						<div class=icon><span class=ion-search></span></div>\n						<input class=form-control ng-model=search tabindex=2000>\n						<div class="icon right" ng-show=search>\n							<button type=button class="btn btn-link" ng-click="search=\'\'" tabindex=2001>\n								<span class=ion-close-circled></span>\n							</button>\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n		<div class=col-sm-8>\n			<div class=btn-toolbar>\n				<button class="btn btn-link" ng-click=export()>\n					<span class=ion-arrow-down-c></span>\n					Export\n				</button>\n				<a href=#/new class="btn btn-success">\n					New Invoice\n				</a>\n			</div>\n		</div>\n	</div>\n\n	<div class="my-invoices clearfix">\n		<div ng-repeat="invoice in invoices | filter:search | orderBy:\'!id\' as results" class="invoice-card noselect">\n			<a href=#/{{invoice.id}} class=tile>\n				<h3 ng-bind-html=invoice.balance|currencyFormat:invoice.currency></h3>\n				<div class=to>{{invoice.to|firstline}}</div>\n				<div class=date>{{invoice.date}}</div>\n				<button class="btn btn-link btn-trash" href=# ng-click=delete(invoice,$event)>\n					<span class=ion-trash-b></span>\n				</button>\n				<div class=draft ng-if=invoice.draft></div>\n			</a>\n		</div>\n		<div class=empty-message ng-show="results.length==0">\n			No invoices found.\n		</div>\n	</div>\n\n	<hr>\n	<p class=warning>\n		<span class=ion-alert-circled></span>\n		These invoices are stored on your device, and not online. Clearing your browser\'s cache could cause you to lose these invoices. We recommend hanging on to a copy of each invoice you generate.\n	</p>\n\n	<div class=erase-everything ng-show="invoices.length>0">\n		<button class="btn btn-danger btn-sm" ng-click=clearAll()>\n			Erase Everything\n		</button>\n	</div>\n</div>'),$templateCache.put("/templates/thanks.html",'<div class=body>\n	<h1>\n		Thank you for invoicing with us!\n	</h1>\n\n	<section>\n		<div ng-show="type==\'download\'">\n			<p class="alert alert-success">\n				Your invoice has been generated! If the invoice did not open automatically then you can find it in your <strong>Downloads</strong> folder.\n			</p>\n		</div>\n\n		<div ng-show="type==\'send\'">\n			<p class="alert alert-success">\n				Your invoice has been sent to <strong>{{emailTo}}</strong>! We also sent a confirmation to your email address.\n			</p>\n			<p class=text-muted>\n				<strong>Client didn\'t receive it?</strong> If it has been a few hours since the invoice was sent then kindly ask your client to check his or her spam folder. We will notify you over email if the invoice could not be delivered for any reason.\n			</p>\n		</div>\n\n		<p class=text-muted>\n			<span class=ion-information-circled></span>\n			A copy has also been saved to your device. You can return to the <strong>My Invoices</strong> page any time to make changes to your invoice.\n		</p>\n\n		<h4>What\'s next?</h4>\n		<div class=btn-toolbar>\n			<a href=#/{{invoiceId}} class="btn btn-link">\n				<span class=ion-arrow-left-c></span>\n				Edit this invoice\n			</a>\n			<a href=#/invoices class="btn btn-link">\n				Go to My Invoices\n			</a>\n			<a href=#/new class="btn btn-success">\n				New Invoice\n			</a>\n		</div>\n	</section>\n\n	<section>\n		<h3>Need more features?</h3>\n		<p class=lead>\n			Invoiced Pro makes invoicing and getting paid as simple as possible. Your invoices are stored securely online, we notify you when a client views an invoice, and you can accept online payments.\n		</p>\n		<p>\n			<a href=/upgrade class="btn btn-lg btn-primary btn-outline">\n				Get Better Invoicing\n			</a>\n		</p>\n	</section>\n\n	<section>\n		<h3>Love using Invoice Generator? <small>Tell your friends!</small></h3>\n			<div class=thanks-social>\n			<a href="mailto:?subject=Check%20out%20this%20free%20invoicing%20service&amp;body=Hello%2C%0A%0AI%20wanted%20to%20share%20a%20free%20invoicing%20service%20I%20use%20that%20you%20might%20find%20helpful.%0A%0AInvoiced%20Lite%20-%20https%3A%2F%2Finvoice-generator.com%0A%0ACheers!" class="btn btn-primary btn-xs email-btn">\n				Email\n			</a>\n			<a href=https://twitter.com/share class=twitter-share-button data-url=https://invoice-generator.com data-text="Get free invoicing with Invoice Generator from @invoicedapp" data-dnt=true>Tweet</a>\n			<div class=fb-like data-href=https://invoice-generator.com data-layout=standard data-action=like data-show-faces=false data-share=true></div>\n		</div>\n	</section>\n\n	<section>\n		<h3>Tell us about any problems or suggestions</h3>\n		<form name=feedbackForm ng-hide=feedbackSent ng-submit="sendFeedback(email, feedback)" class=form-horizontal>\n			<br>\n			<p class="alert alert-danger" ng-show=feedbackError>\n				{{feedbackError}}\n			</p>\n			<div class=form-group>\n				<div class=col-md-6>\n					<label>Your Email Address</label>\n					<input type=email ng-model=email class=form-control placeholder="Optional email address..">\n				</div>\n			</div>\n\n			<div class=form-group>\n				<div class=col-md-8>\n					<label>Your Feedback</label>\n					<div class=feedback>\n						<textarea class=form-control ng-model=feedback placeholder="Feedback goes here.." expanding-textarea required></textarea>\n					</div>\n				</div>\n			</div>\n\n			<div class=form-group>\n				<div class=col-md-12>\n					<button type=submit class="btn btn-primary" ng-disabled="feedbackForm.$invalid||sending||email==feedback" v-busy=sending v-busy-label=Sending v-pressable>\n						Submit Feedback\n					</button>\n				</div>\n			</div>\n		</form>\n		<div ng-show=feedbackSent>\n			<div class="alert alert-success">Thank you for your input!</div>\n		</div>\n	</section>\n</div>')}]);
//# sourceMappingURL=app.js.map